Le projet *scletest*
--------------------

**scletest** est un outil développé en interne chez INEO-SCLE permettant
de tester des applications graphiques écrites en QT/C++ depuis python.

L'outil se veut minimaliste pour tester certaines fonctionnalités propres
aux application INEO-SCLE. Le but n'est pas de couvrir l'ensemble du
toolkit QT.

Fonctionnement de *scletest*
----------------------------

**scletest** est divisé en deux parties:

- **scleHooq** est un ensemble de fichiers c++ à intégrer lors de la
  compilation de l'application à tester. Le code permet de lancer un
  serveur TCP dans l'application, pour permettre le contrôle depuis
  des requêtes. **scleHooq** est basé sur un fork minimaliste de la
  librairie **hooq**.

- **scletest** est un package python offrant une API pour la
  communication avec le serveur TCP de l'application testée. Il utilise
  **nosetests** comme framework efficace de tests.

Installation de *scletest*
--------------------------

La partie **scleHooq** est à compiler avec son programme. En utilisant
*qmake*, il faut depuis son fichier de compilation .pro ajouter une
ligne du genre::
  
  include(../scleHooq/hooq.pri)

Ensuite, dans le main() du programme:

.. code-block:: cpp
  
  #include "scleHook.h"
  #include <QApplication>
  
  int main(int argc, char *argv[]) {
      QApplication a(argc, argv);
      
      // activation de scleHooq
      ScleHooq::activation();
      
      /* ... */
      
      return a.exec();
  }

Le package **scletest** en python s'installe de manière conventionnelle
pour les outils python. Ainsi, il suffit de récupérer les sources et
de lancer la commande suivante::
  
  python setup.py install
